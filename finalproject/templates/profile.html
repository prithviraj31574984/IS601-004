{%extends "base.html" %}
{% block content%}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <title>profile edit</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
	<br><br><br>
<div class="container">
		<div class="main-body">
			<div class="row">
				<div class="col-lg-4">
					<div class="card">
						<div class="card-body">
							<div class="d-flex flex-column align-items-center text-center">
								<img src="https://bootdey.com/img/Content/avatar/avatar6.png" alt="Admin" class="rounded-circle p-1 bg-primary" width="110">
								<div class="mt-3">
									
								</div>
							</div>
							<hr class="my-4">
						
						</div>
					</div>
				</div>
				<div class="col-lg-8">
					<div class="card">
						<div class="card-body">
							<div class="row mb-3">
								
								
							<div class="col-sm-3">
								<form action="/profile" method="post">
									<h6 class="mb-0">Full Name</h6>
								</div>
								<div class="col-sm-9 text-secondary">
									<input type="text" class="form-control" value="{{current_user.name}}" name="name">
								</div>
							</div>
							<div class="row mb-3">
								<div class="col-sm-3">
									<h6 class="mb-0">Email</h6>
								</div>
								<div class="col-sm-9 text-secondary">
									<input type="text" class="form-control" value="{{current_user.email}}" name="email">
								</div>
							</div>
							
						
							
							<div class="row">
								<div class="col-sm-3"></div>
								<div class="col-sm-9 text-secondary">
									<input type="submit" class="btn btn-primary px-4" value="Save Changes">
									
						</form>
								</div>
							</div>

						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<div class="card">
								<div class="card-body">
									<h5 class="d-flex align-items-center mb-3">Recent Orders</h5>
									

                                    <table cellspacing="0" cellpadding="0" border="0" width="100%">
                                            
										<tr style="background-color: #333333; color:white">
											<th width="25%" align="left" style="font-family: Open Sans, Helvetica, Arial, sans-serif; font-size: 16px; font-weight: 400; line-height: 24px; padding: 15px 10px 5px 10px;"> Order_Id </th>
											<th width="25%" align="left" style="font-family: Open Sans, Helvetica, Arial, sans-serif; font-size: 16px; font-weight: 400; line-height: 24px; padding: 15px 10px 5px 10px;"> Buyer Name </th>
											<th width="25%" align="left" style="font-family: Open Sans, Helvetica, Arial, sans-serif; font-size: 16px; font-weight: 400; line-height: 24px; padding: 15px 10px 5px 10px;"> Order Date </th>


											<th width="25%" align="left" style="font-family: Open Sans, Helvetica, Arial, sans-serif; font-size: 16px; font-weight: 400; line-height: 24px; padding: 15px 10px 5px 10px;"> Payment Method </th>
										
											<th width="25%" align="left" style="font-family: Open Sans, Helvetica, Arial, sans-serif; font-size: 16px; font-weight: 400; line-height: 24px; padding: 15px 10px 5px 10px;"> Order Payment </th>

										</tr>
									
									
                      {%for data in order.items%}
										<tr>
											<td> 
												{{data.id}}
										   </td>

										     {%for user in users%}
											 {%if user.id == data.user_id%}
											 <td>{{user.name}}</td>
											 {%endif%}
											 {%endfor%}
											<td>
												{{data.created.strftime('%Y-%m-%d')}}
											</td>
											<td width="25%" align="left" style="font-family: Open Sans, Helvetica, Arial, sans-serif; font-size: 16px; font-weight: 400; line-height: 24px; padding: 5px 10px;">{{data.payment_method}}</td>
											<td width="25%" align="left" style="font-family: Open Sans, Helvetica, Arial, sans-serif; font-size: 16px; font-weight: 400; line-height: 24px; padding: 5px 10px;">{{data.money_received}} </td>
										</tr>

									   {%endfor%}
									</table>


									<div class="text-right">
										<a href="{{ url_for('profile', page=order.prev_num) }}"
										   class="btn btn-outline-danger 
										   {% if order.page == 1 %}disabled{% endif %}">
											&laquo;
										</a>
									 
									 {% for page_num in order.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
									 {% if page_num %}
									 
												{% if order.page == page_num %}
												<a href="{{ url_for('profile', page=page_num) }}"
												   class="btn btn-danger">
													{{ page_num }}
												</a>
												{% else %}
												<a href="{{ url_for('profile', page=page_num) }}"
												   class="btn btn-outline-danger">
													{{ page_num }}
												</a>
												{% endif %}
											{% else %}
												...
											{% endif %}
										{% endfor %}
										<a href="{{ url_for('profile', page=order.next_num) }}"
										   class="btn btn-outline-danger 
										   {% if order.page == order.pages %}disabled{% endif %}">
											&raquo;
										</a>
									 
									 
									 <p class="text-right mt-3">
									   Showing page {{ order.page }} of {{ order.pages }}
									 </p>
									 
									 </div>

								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

<style type="text/css">
body{
    background: #f7f7ff;
    margin-top:20px;
}
.card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border: 0 solid transparent;
    border-radius: .25rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 2px 6px 0 rgb(218 218 253 / 65%), 0 2px 6px 0 rgb(206 206 238 / 54%);
}
.me-2 {
    margin-right: .5rem!important;
}
</style>
<script type="text/javascript">
</script>
</body>
</html>
<br><br><br><br>

{%endblock%}